<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domestika Connect</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        :root {
            --indigo-50: #eef2ff;
            --indigo-100: #e0e7ff;
            --indigo-600: #4f46e5;
            --indigo-700: #4338ca;
            --indigo-950: #312e81;
            --slate-50: #f8fafc;
            --slate-100: #f1f5f9;
            --slate-200: #e2e8f0;
            --slate-300: #cbd5e1;
            --slate-400: #94a3b8;
            --slate-500: #64748b;
            --slate-600: #475569;
            --slate-700: #334155;
            --slate-800: #1e293b;
            --slate-900: #0f172a;
            --amber-400: #fbbf24;
            --amber-500: #f59e0b;
            --amber-600: #d97706;
            --green-500: #10b981;
            --rose-500: #f43f5e;
            --white: #ffffff;
            --black: #000000;
        }

        body {
            background-color: #fee440;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Background animation */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 0;
            overflow: hidden;
        }

        .out-top {
            animation: rotate 20s linear infinite;
            transform-origin: 13px 25px;
        }

        .in-top {
            animation: rotate 10s linear infinite;
            transform-origin: 13px 25px;
        }

        .out-bottom {
            animation: rotate 25s linear infinite;
            transform-origin: 84px 93px;
        }

        .in-bottom {
            animation: rotate 15s linear infinite;
            transform-origin: 84px 93px;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Utility classes */
        .glass {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(16px);
            border-top: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-animate {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .btn-animate:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .btn-animate:active {
            transform: scale(0.96);
        }

        .transition-page {
            animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .mobile-menu-enter {
            animation: slideInLeft 0.3s ease-out;
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        .hidden {
            display: none !important;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .relative {
            position: relative;
        }

        .absolute {
            position: absolute;
        }

        .fixed {
            position: fixed;
        }

        .sticky {
            position: sticky;
        }

        .overflow-hidden {
            overflow: hidden;
        }

        .overflow-y-auto {
            overflow-y: auto;
        }

        .overflow-x-auto {
            overflow-x: auto;
        }

        .w-full {
            width: 100%;
        }

        .h-full {
            height: 100%;
        }

        .min-h-screen {
            min-height: 100vh;
        }

        .max-w-2xl {
            max-width: 42rem;
        }

        .max-w-5xl {
            max-width: 64rem;
        }

        .max-w-xl {
            max-width: 36rem;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        .space-y-2 > * + * {
            margin-top: 0.5rem;
        }

        .space-y-3 > * + * {
            margin-top: 0.75rem;
        }

        .space-y-4 > * + * {
            margin-top: 1rem;
        }

        .space-y-6 > * + * {
            margin-top: 1.5rem;
        }

        .space-y-8 > * + * {
            margin-top: 2rem;
        }

        .space-y-10 > * + * {
            margin-top: 2.5rem;
        }

        .space-x-2 > * + * {
            margin-left: 0.5rem;
        }

        .space-x-3 > * + * {
            margin-left: 0.75rem;
        }

        .space-x-4 > * + * {
            margin-left: 1rem;
        }

        .gap-1 {
            gap: 0.25rem;
        }

        .gap-2 {
            gap: 0.5rem;
        }

        .gap-3 {
            gap: 0.75rem;
        }

        .gap-4 {
            gap: 1rem;
        }

        .gap-5 {
            gap: 1.25rem;
        }

        .gap-6 {
            gap: 1.5rem;
        }

        .gap-8 {
            gap: 2rem;
        }

        .p-1 {
            padding: 0.25rem;
        }

        .p-2 {
            padding: 0.5rem;
        }

        .p-3 {
            padding: 0.75rem;
        }

        .p-4 {
            padding: 1rem;
        }

        .p-5 {
            padding: 1.25rem;
        }

        .p-6 {
            padding: 1.5rem;
        }

        .p-8 {
            padding: 2rem;
        }

        .p-10 {
            padding: 2.5rem;
        }

        .px-2 {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }

        .px-3 {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }

        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .px-5 {
            padding-left: 1.25rem;
            padding-right: 1.25rem;
        }

        .px-6 {
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        .px-8 {
            padding-left: 2rem;
            padding-right: 2rem;
        }

        .px-10 {
            padding-left: 2.5rem;
            padding-right: 2.5rem;
        }

        .py-1 {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
        }

        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .py-3 {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
        }

        .py-4 {
            padding-top: 1rem;
            padding-bottom: 1rem;
        }

        .py-5 {
            padding-top: 1.25rem;
            padding-bottom: 1.25rem;
        }

        .py-6 {
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
        }

        .py-8 {
            padding-top: 2rem;
            padding-bottom: 2rem;
        }

        .py-10 {
            padding-top: 2.5rem;
            padding-bottom: 2.5rem;
        }

        .py-12 {
            padding-top: 3rem;
            padding-bottom: 3rem;
        }

        .mb-1 {
            margin-bottom: 0.25rem;
        }

        .mb-2 {
            margin-bottom: 0.5rem;
        }

        .mb-3 {
            margin-bottom: 0.75rem;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mb-6 {
            margin-bottom: 1.5rem;
        }

        .mb-8 {
            margin-bottom: 2rem;
        }

        .mt-1 {
            margin-top: 0.25rem;
        }

        .mt-2 {
            margin-top: 0.5rem;
        }

        .mt-4 {
            margin-top: 1rem;
        }

        .mt-8 {
            margin-top: 2rem;
        }

        .mt-auto {
            margin-top: auto;
        }

        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .text-right {
            text-align: right;
        }

        .text-xs {
            font-size: 0.75rem;
            line-height: 1rem;
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem;
        }

        .text-base {
            font-size: 1rem;
            line-height: 1.5rem;
        }

        .text-lg {
            font-size: 1.125rem;
            line-height: 1.75rem;
        }

        .text-xl {
            font-size: 1.25rem;
            line-height: 1.75rem;
        }

        .text-2xl {
            font-size: 1.5rem;
            line-height: 2rem;
        }

        .text-3xl {
            font-size: 1.875rem;
            line-height: 2.25rem;
        }

        .text-4xl {
            font-size: 2.25rem;
            line-height: 2.5rem;
        }

        .text-5xl {
            font-size: 3rem;
            line-height: 1;
        }

        .text-6xl {
            font-size: 3.75rem;
            line-height: 1;
        }

        .text-8xl {
            font-size: 6rem;
            line-height: 1;
        }

        .font-light {
            font-weight: 300;
        }

        .font-normal {
            font-weight: 400;
        }

        .font-medium {
            font-weight: 500;
        }

        .font-semibold {
            font-weight: 600;
        }

        .font-bold {
            font-weight: 700;
        }

        .font-black {
            font-weight: 900;
        }

        .text-white {
            color: var(--white);
        }

        .text-slate-400 {
            color: var(--slate-400);
        }

        .text-slate-500 {
            color: var(--slate-500);
        }

        .text-slate-600 {
            color: var(--slate-600);
        }

        .text-slate-700 {
            color: var(--slate-700);
        }

        .text-slate-900 {
            color: var(--slate-900);
        }

        .text-indigo-600 {
            color: var(--indigo-600);
        }

        .text-indigo-700 {
            color: var(--indigo-700);
        }

        .text-indigo-950 {
            color: var(--indigo-950);
        }

        .text-amber-500 {
            color: var(--amber-500);
        }

        .text-amber-600 {
            color: var(--amber-600);
        }

        .text-green-500 {
            color: var(--green-500);
        }

        .bg-white {
            background-color: var(--white);
        }

        .bg-slate-50 {
            background-color: var(--slate-50);
        }

        .bg-slate-100 {
            background-color: var(--slate-100);
        }

        .bg-slate-900 {
            background-color: var(--slate-900);
        }

        .bg-indigo-50 {
            background-color: var(--indigo-50);
        }

        .bg-indigo-600 {
            background-color: var(--indigo-600);
        }

        .bg-indigo-700 {
            background-color: var(--indigo-700);
        }

        .bg-indigo-950 {
            background-color: var(--indigo-950);
        }

        .bg-amber-50 {
            background-color: #fffbeb;
        }

        .bg-amber-400 {
            background-color: var(--amber-400);
        }

        .bg-amber-500 {
            background-color: var(--amber-500);
        }

        .bg-rose-500 {
            background-color: var(--rose-500);
        }

        .bg-green-100 {
            background-color: #d1fae5;
        }

        .border {
            border-width: 1px;
            border-style: solid;
        }

        .border-white {
            border-color: var(--white);
        }

        .border-slate-100 {
            border-color: var(--slate-100);
        }

        .border-slate-200 {
            border-color: var(--slate-200);
        }

        .border-indigo-100 {
            border-color: #e0e7ff;
        }

        .border-indigo-600 {
            border-color: var(--indigo-600);
        }

        .rounded {
            border-radius: 0.25rem;
        }

        .rounded-lg {
            border-radius: 0.5rem;
        }

        .rounded-xl {
            border-radius: 0.75rem;
        }

        .rounded-2xl {
            border-radius: 1rem;
        }

        .rounded-3xl {
            border-radius: 1.5rem;
        }

        .rounded-full {
            border-radius: 9999px;
        }

        .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .shadow-xl {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .shadow-2xl {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .grid {
            display: grid;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .grid-cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }

        .col-span-full {
            grid-column: 1 / -1;
        }

        .z-10 {
            z-index: 10;
        }

        .z-40 {
            z-index: 40;
        }

        .z-50 {
            z-index: 50;
        }

        .z-60 {
            z-index: 60;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .md\:flex {
                display: flex !important;
            }

            .md\:hidden {
                display: none !important;
            }

            .md\:flex-row {
                flex-direction: row;
            }

            .md\:grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            .md\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }

            .md\:w-80 {
                width: 20rem;
            }

            .md\:py-12 {
                padding-top: 3rem;
                padding-bottom: 3rem;
            }

            .md\:px-12 {
                padding-left: 3rem;
                padding-right: 3rem;
            }

            .md\:text-8xl {
                font-size: 6rem;
                line-height: 1;
            }

            .md\:text-xl {
                font-size: 1.25rem;
                line-height: 1.75rem;
            }
        }

        @media (min-width: 1024px) {
            .lg\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }

        /* Scrollbar */
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        /* Custom scrollbar for service form */
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: var(--slate-100);
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--slate-300);
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="background-animation">
        <svg preserveAspectRatio="xMidYMid slice" viewBox="10 10 80 80">
            <defs>
                <style>
                    @keyframes rotate {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                    .out-top { animation: rotate 20s linear infinite; transform-origin: 13px 25px; }
                    .in-top { animation: rotate 10s linear infinite; transform-origin: 13px 25px; }
                    .out-bottom { animation: rotate 25s linear infinite; transform-origin: 84px 93px; }
                    .in-bottom { animation: rotate 15s linear infinite; transform-origin: 84px 93px; }
                </style>
            </defs>
            <path fill="#9b5de5" class="out-top" d="M37-5C25.1-14.7,5.7-19.1-9.2-10-28.5,1.8-32.7,31.1-19.8,49c15.5,21.5,52.6,22,67.2,2.3C59.4,35,53.7,8.5,37-5Z"/>
            <path fill="#f15bb5" class="in-top" d="M20.6,4.1C11.6,1.5-1.9,2.5-8,11.2-16.3,23.1-8.2,45.6,7.4,50S42.1,38.9,41,24.5C40.2,14.1,29.4,6.6,20.6,4.1Z"/>
            <path fill="#00bbf9" class="out-bottom" d="M105.9,48.6c-12.4-8.2-29.3-4.8-39.4.8-23.4,12.8-37.7,51.9-19.1,74.1s63.9,15.3,76-5.6c7.6-13.3,1.8-31.1-2.3-43.8C117.6,63.3,114.7,54.3,105.9,48.6Z"/>
            <path fill="#00f5d4" class="in-bottom" d="M102,67.1c-9.6-6.1-22-3.1-29.5,2-15.4,10.7-19.6,37.5-7.6,47.8s35.9,3.9,44.5-12.5C115.5,92.6,113.9,74.6,102,67.1Z"/>
        </svg>
    </div>

    <!-- App Container -->
    <div id="app"></div>

    <script>
        // Dados da aplica√ß√£o
        const MOCK_CURRENT_USER = {
            id: 'u_generic',
            name: 'Edmilson Cassule',
            role: 'CUSTOMER',
            avatar: 'https://images.unsplash.com/photo-1511367461989-f85a21fda167?auto=format&fit=crop&q=80&w=150&h=150',
            location: 'Talatona, Luanda',
            points: 450
        };

        const SERVICES = [
            { id: 1, name: 'Lavandaria e engomagem', icon: 'üß∫', desc: 'Cuidado impec√°vel com suas roupas.', prosCount: 12 },
            { id: 2, name: 'Cozinheira de fam√≠lia', icon: 'üë®‚Äçüç≥', desc: 'Preparo de refei√ß√µes semanais ou eventos.', prosCount: 8 },
            { id: 3, name: 'Servi√ßo de Bab√°', icon: 'üçº', desc: 'Cuidado atencioso para seus filhos.', prosCount: 15 },
            { id: 4, name: 'Cuidados com idosos', icon: 'üëµ', desc: 'Acompanhamento e assist√™ncia dedicada.', prosCount: 6 },
            { id: 5, name: 'Repara√ß√µes e manuten√ß√£o', icon: 'üî®', desc: 'Reparos em m√≥veis e projetos sob medida.', prosCount: 24 },
            { id: 6, name: 'Tratamento de animais dom√©sticos', icon: 'üêï', desc: 'Cuidados e passeios para seu melhor amigo.', prosCount: 10 },
            { id: 7, name: 'Telecomunica√ß√µes', icon: 'üì°', desc: 'Instala√ß√£o de redes e suporte t√©cnico.', prosCount: 4 },
            { id: 8, name: 'Seguran√ßa Privada', icon: 'üõ°Ô∏è', desc: 'C√¢meras, alarmes e monitoramento.', prosCount: 7 },
            { id: 9, name: 'Servi√ßos de Sa√∫de', icon: 'ü©∫', desc: 'Atendimento domiciliar especializado.', prosCount: 9 },
            { id: 10, name: 'Servi√ßos de Constru√ß√£o', icon: 'üèóÔ∏è', desc: 'Pequenas reformas e obras residenciais.', prosCount: 11 },
            { id: 11, name: 'Educa√ß√£o e Forma√ß√£o', icon: 'üìö', desc: 'Aulas particulares e refor√ßo escolar.', prosCount: 13 },
            { id: 12, name: 'Servi√ßos Digitais', icon: 'üíª', desc: 'Solu√ß√µes tecnol√≥gicas para seu lar.', prosCount: 5 },
        ];

        const MOCK_POSTS = [
            {
                id: 'p1',
                userId: 'u2',
                userName: 'Carlos Oliveira',
                userAvatar: 'https://images.unsplash.com/photo-1599566150163-29194dcaad36?auto=format&fit=crop&q=80&w=150&h=150',
                content: 'Revitaliza√ß√£o completa de √°rea externa. Foco em paisagismo sustent√°vel e ilumina√ß√£o c√™nica para noites de ver√£o.',
                image: 'https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?auto=format&fit=crop&q=80&w=1200&h=800',
                likes: 342,
                comments: 24,
                timestamp: 'Hoje',
                type: 'WORK_SAMPLE'
            },
            {
                id: 'p2',
                userId: 'u3',
                userName: 'Maria Souza',
                userAvatar: 'https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&q=80&w=150&h=150',
                content: 'Antes e Depois: Organiza√ß√£o de closet funcional. Cada pe√ßa em seu lugar, otimizando o tempo matinal do cliente.',
                image: 'https://images.unsplash.com/photo-1595428774223-ef52624120d2?auto=format&fit=crop&q=80&w=1200&h=800',
                likes: 156,
                comments: 8,
                timestamp: 'Ontem',
                type: 'WORK_SAMPLE'
            }
        ];

        const MOCK_PROS = [
            {
                id: 'p1',
                name: 'Roberto Mendes',
                role: 'PROFESSIONAL',
                category: 'Repara√ß√µes e manuten√ß√£o',
                avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=150&h=150',
                rating: 4.9,
                location: 'Luanda, AO',
                hourlyRate: '12.000,00',
                bio: 'Especialista em automa√ß√£o residencial e infraestrutura el√©trica de alto luxo.'
            },
            {
                id: 'p2',
                name: 'Clara Nunes',
                role: 'PROFESSIONAL',
                category: 'Servi√ßos Digitais',
                avatar: 'https://images.unsplash.com/photo-1567532939604-b6c5b0ad2e01?auto=format&fit=crop&q=80&w=150&h=150',
                rating: 5.0,
                location: 'Talatona, AO',
                hourlyRate: '8.500,00',
                bio: 'Transformando lares atrav√©s da organiza√ß√£o estrat√©gica e suporte tecnol√≥gico.'
            },
            {
                id: 'p3',
                name: 'Ana Cl√°udia',
                role: 'PROFESSIONAL',
                category: 'Cozinheira de fam√≠lia',
                avatar: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&q=80&w=150&h=150',
                rating: 4.8,
                location: 'Alvalade, AO',
                hourlyRate: '20.000,00',
                bio: 'Chef especializada em culin√°ria mediterr√¢nea e dietas restritivas personalizadas.'
            },
            {
                id: 'p4',
                name: 'Marcos Silva',
                role: 'PROFESSIONAL',
                category: 'Seguran√ßa Privada',
                avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&q=80&w=150&h=150',
                rating: 4.7,
                location: 'Miramar, AO',
                hourlyRate: '15.000,00',
                bio: 'Ex-militar especialista em sistemas de monitoramento e prote√ß√£o executiva.'
            },
            {
                id: 'p5',
                name: 'Beatriz Santos',
                role: 'PROFESSIONAL',
                category: 'Servi√ßo de Bab√°',
                avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&q=80&w=150&h=150',
                rating: 4.9,
                location: 'Kilamba, AO',
                hourlyRate: '5.000,00',
                bio: 'Pedagoga com 10 anos de experi√™ncia em cuidados infantis e educa√ß√£o precoce.'
            },
            {
                id: 'p6',
                name: 'Ant√≥nio Lopes',
                role: 'PROFESSIONAL',
                category: 'Tratamento de animais dom√©sticos',
                avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150&h=150',
                rating: 4.6,
                location: 'Patriota, AO',
                hourlyRate: '4.000,00',
                bio: 'Passeador e cuidador certificado, apaixonado por c√£es de todas as ra√ßas.'
            }
        ];

        // Estado da aplica√ß√£o
        let state = {
            activeTab: 'explorar',
            isMobileMenuOpen: false,
            selectedCategory: undefined,
            user: null,
            isUploadingReceipt: false,
            showPointsToast: false,
            serviceFormStep: 1,
            serviceFormData: {
                category: '',
                description: '',
                date: '',
                period: 'Manh√£ (08h - 12h)',
                address: '',
                email: '',
                selectedProfessionalId: '',
            },
            aiTips: [],
            loadingTips: false
        };

        // Elementos DOM
        const app = document.getElementById('app');

        // Fun√ß√µes de renderiza√ß√£o
        function render() {
            if (!state.user) {
                renderLandingPage();
            } else {
                renderApp();
            }
        }

        function renderLandingPage() {
            app.innerHTML = `
                <div class="min-h-screen flex items-center justify-center p-6 relative overflow-hidden">
                    <div class="max-w-xl w-full text-center space-y-12 relative z-10 transition-page">
                        <div class="space-y-4">
                            <div class="flex items-center gap-3 bg-white/30 backdrop-blur-md px-6 py-2 rounded-full border border-white/40 shadow-xl mx-auto w-fit">
                                <span class="text-xl">‚ú®</span>
                                <span class="text-xs font-black uppercase tracking-[3px] text-indigo-950">Premium Home Services</span>
                            </div>
                            <h1 class="text-6xl md:text-8xl font-black text-indigo-950 tracking-tighter leading-none">
                                DOMESTIKA<br/><span class="text-white drop-shadow-lg">CONNECT</span>
                            </h1>
                            <p class="text-indigo-900/60 text-lg md:text-xl font-medium max-w-md mx-auto leading-relaxed">
                                Conectando a elite dos profissionais dom√©sticos aos lares mais exigentes.
                            </p>
                        </div>

                        <button id="enter-app" class="group relative bg-indigo-600 text-white px-10 py-6 rounded-[2.5rem] font-black text-xl shadow-[0_25px_50px_rgba(79,70,229,0.4)] hover:bg-indigo-700 transition-all hover:scale-105 active:scale-95 btn-animate">
                            EXPLORAR CATEGORIAS
                            <span class="ml-3 group-hover:ml-5 transition-all">‚ûî</span>
                        </button>
                    </div>
                </div>
            `;

            document.getElementById('enter-app').addEventListener('click', () => {
                state.user = MOCK_CURRENT_USER;
                state.activeTab = 'explorar';
                render();
            });
        }

        function renderApp() {
            app.innerHTML = `
                <div class="min-h-screen relative flex flex-col md:flex-row font-light">
                    <!-- Toast de Pontos -->
                    ${state.showPointsToast ? `
                        <div class="fixed top-24 right-10 z-[100] bg-amber-500 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-in slide-in-from-right-10 duration-500">
                            <div class="text-2xl">üèÜ</div>
                            <div>
                                <p class="font-black text-sm uppercase tracking-wider">Comprovativo Validado!</p>
                                <p class="text-xs font-bold text-amber-100">+150 Domestika Points adicionados.</p>
                            </div>
                        </div>
                    ` : ''}

                    <!-- Mobile Header -->
                    <header class="md:hidden glass border-white/40 sticky top-0 z-50 px-4 py-3 flex justify-between items-center border-b shadow-sm">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-200">
                                <span class="text-white text-xs font-bold">‚ú®</span>
                            </div>
                            <h1 class="text-lg font-black tracking-tighter text-indigo-950">DOMESTIKA</h1>
                        </div>
                        
                        <div class="flex items-center gap-2">
                            ${renderBalanceCartSmall()}
                            <button id="mobile-service-btn" class="bg-indigo-600 text-white px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-wider btn-animate">
                                Servi√ßos
                            </button>
                            <button id="mobile-menu-toggle" class="p-2 bg-slate-100 rounded-xl transition-colors btn-animate">
                                <span class="text-slate-700 text-lg font-bold leading-none">${state.isMobileMenuOpen ? '‚úï' : '‚ò∞'}</span>
                            </button>
                        </div>
                    </header>

                    <!-- Mobile Sidebar Overlay -->
                    ${state.isMobileMenuOpen ? `
                        <div class="fixed inset-0 z-[60] md:hidden">
                            <div class="absolute inset-0 bg-slate-900/40 backdrop-blur-sm" id="mobile-menu-overlay"></div>
                            <div class="absolute left-0 top-0 bottom-0 w-3/4 bg-white mobile-menu-enter shadow-2xl overflow-y-auto">
                                ${renderSidebar(true)}
                            </div>
                        </div>
                    ` : ''}

                    <!-- Sidebar - Desktop -->
                    ${renderSidebar(false)}

                    <!-- Main Content Area -->
                    <main class="flex-1 max-w-5xl mx-auto w-full px-5 py-6 md:py-12 md:px-12 space-y-8 relative z-10">
                        <header class="hidden md:flex justify-between items-center glass p-6 rounded-[2.5rem] border border-white/40 shadow-sm mb-12 sticky top-6 z-40">
                            <div class="space-y-0.5">
                                <h2 class="text-2xl font-bold text-slate-900 tracking-tight">
                                    ${getHeaderTitle()}
                                </h2>
                                <p class="text-slate-500 text-sm">
                                    ${getHeaderSubtitle()}
                                </p>
                            </div>
                            
                            <div class="flex items-center gap-3">
                                ${renderBalanceCartSmall()}

                                <button id="desktop-service-btn" class="bg-indigo-600 text-white px-5 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-wider shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all btn-animate">
                                    Solicitar Servi√ßo
                                </button>
                                
                                <button id="desktop-account-btn" class="w-10 h-10 rounded-xl overflow-hidden border-2 border-white shadow-lg shadow-slate-200 hover:scale-105 transition-transform">
                                    <img src="${state.user.avatar}" class="w-full h-full object-cover" alt="User" />
                                </button>
                            </div>
                        </header>

                        <!-- Dynamic Page Rendering -->
                        <section class="transition-page">
                            ${renderActiveTab()}
                        </section>

                        <div class="h-28 md:hidden"></div>
                    </main>
                    
                    <!-- Mobile Bottom Navigation Bar -->
                    <nav class="md:hidden glass fixed bottom-5 left-5 right-5 border border-white/40 px-6 py-2 flex justify-between items-center z-50 rounded-[2rem] shadow-[0_20px_50px_rgba(79,70,229,0.2)]">
                        <button data-tab="explorar" class="p-4 rounded-2xl transition-all btn-animate ${state.activeTab === 'explorar' || state.activeTab === 'categorias' || state.activeTab === 'solicitar' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400'}">
                            <span class="text-xl">üß≠</span>
                        </button>
                        <button data-tab="perfis" class="p-4 rounded-2xl transition-all btn-animate ${state.activeTab === 'perfis' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400'}">
                            <span class="text-xl">üóÇÔ∏è</span>
                        </button>
                        <button data-tab="conta" class="p-4 rounded-2xl transition-all btn-animate ${state.activeTab === 'conta' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400'}">
                            <span class="text-xl">üë§</span>
                        </button>
                    </nav>
                </div>
            `;

            // Adicionar event listeners
            addEventListeners();
        }

        function renderBalanceCartSmall() {
            return `
                <button id="balance-cart" class="flex items-center gap-1.5 bg-white border border-slate-100 px-2.5 py-1.5 rounded-xl shadow-sm hover:border-indigo-400 transition-all btn-animate" title="Ver Saldo e Perfil">
                    <span class="text-sm">üõí</span>
                    <span class="text-[11px] font-black text-slate-900 leading-none">${state.user?.points || 0}</span>
                </button>
            `;
        }

        function renderSidebar(isMobile) {
            const menuItems = [
                { id: 'explorar', label: 'Explorar', icon: 'üß≠' },
                { id: 'perfis', label: 'Perfis', icon: 'üóÇÔ∏è' },
                { id: 'conta', label: 'Minha Conta', icon: 'üë§' },
            ];

            const activeTabForSidebar = state.activeTab === 'categorias' || state.activeTab === 'solicitar' ? 'explorar' : state.activeTab;

            return `
                <aside class="${isMobile ? 'flex' : 'hidden md:flex'} flex-col w-full md:w-80 h-full glass px-8 py-10 border-r border-white/20">
                    <div class="flex items-center gap-3 mb-12">
                        <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-200">
                            <span class="text-white text-lg">‚ú®</span>
                        </div>
                        <h1 class="text-xl font-black text-indigo-950 tracking-tighter uppercase">DOMESTIKA</h1>
                    </div>

                    <nav class="flex-1 space-y-2">
                        ${menuItems.map(item => {
                            const isActive = activeTabForSidebar === item.id;
                            return `
                                <button
                                    data-tab="${item.id}"
                                    class="w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all duration-300 btn-animate group ${isActive ? 'bg-slate-900 text-white shadow-xl shadow-slate-300' : 'text-slate-600 hover:text-slate-900 hover:bg-white/40'}"
                                >
                                    <span class="text-xl transition-all ${isActive ? 'scale-110' : 'grayscale group-hover:grayscale-0'}">
                                        ${item.icon}
                                    </span>
                                    <span class="font-bold text-sm tracking-tight">${item.label}</span>
                                </button>
                            `;
                        }).join('')}
                    </nav>

                    <div class="pt-8 border-t border-white/30 mt-auto space-y-6">
                        <div class="flex items-center gap-4 px-2">
                            <img src="${state.user.avatar}" alt="${state.user.name}" class="w-10 h-10 rounded-xl object-cover ring-2 ring-white/50" />
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-bold text-slate-900 truncate tracking-tight">${state.user.name}</p>
                                <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">Premium</p>
                            </div>
                        </div>
                        
                        <div class="space-y-1">
                            <button class="w-full flex items-center gap-4 px-5 py-3 text-slate-600 hover:text-slate-900 hover:bg-white/40 rounded-xl transition-all text-xs font-bold btn-animate">
                                <span class="text-base">‚öôÔ∏è</span>
                                Configura√ß√µes
                            </button>
                            <button id="logout-btn" class="w-full flex items-center gap-4 px-5 py-3 text-slate-600 hover:text-rose-600 hover:bg-rose-50/40 rounded-xl transition-all text-xs font-bold btn-animate">
                                <span class="text-base">üö™</span>
                                Sair
                            </button>
                        </div>
                    </div>
                </aside>
            `;
        }

        function getHeaderTitle() {
            switch(state.activeTab) {
                case 'explorar': return 'In√≠cio';
                case 'categorias': return 'Nossos Servi√ßos';
                case 'perfis': return 'Profissionais';
                case 'conta': return 'Minha Conta';
                case 'solicitar': return 'Nova Solicita√ß√£o';
                default: return 'In√≠cio';
            }
        }

        function getHeaderSubtitle() {
            switch(state.activeTab) {
                case 'explorar': return 'Inspira√ß√£o para o seu lar.';
                case 'categorias': return 'Tudo o que sua resid√™ncia precisa.';
                case 'perfis': return state.selectedCategory ? `Exibindo especialistas em ${state.selectedCategory}` : 'O melhor time para sua casa.';
                case 'conta': return 'Gerencie seus dados e fidelidade.';
                case 'solicitar': return 'Detalhe as necessidades do seu projeto.';
                default: return 'Inspira√ß√£o para o seu lar.';
            }
        }

        function renderActiveTab() {
            switch(state.activeTab) {
                case 'explorar': return renderFeed();
                case 'categorias': return renderCategories();
                case 'perfis': return renderProfessionals();
                case 'conta': return renderAccount();
                case 'solicitar': return renderServiceForm();
                default: return renderFeed();
            }
        }

        function renderFeed() {
            return `
                <div class="max-w-2xl mx-auto space-y-8">
                    <!-- Dynamic Intro -->
                    <div class="bg-indigo-950 text-white rounded-[2.5rem] p-8 shadow-2xl shadow-indigo-200 relative overflow-hidden btn-animate border border-white/10">
                        <div class="relative z-10">
                            <div class="flex items-center gap-2 mb-4">
                                <span class="text-lg">‚ú®</span>
                                <span class="text-xs font-black uppercase tracking-[2px] text-indigo-300">Destaque Semanal</span>
                            </div>
                            <h3 class="text-2xl md:text-3xl font-bold tracking-tight mb-3">Sua casa, um novo conceito.</h3>
                            <p class="text-indigo-200/70 text-sm font-light leading-relaxed mb-6">Explore o portf√≥lio dos melhores profissionais do mercado.</p>
                            <button id="view-categories" class="bg-white text-indigo-950 px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-wider btn-animate shadow-xl shadow-white/5">
                                Ver Todas Categorias
                            </button>
                        </div>
                        <div class="absolute -bottom-10 -right-10 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl"></div>
                        <div class="absolute top-0 right-0 p-8 text-6xl opacity-10 select-none">üè†</div>
                    </div>

                    <!-- Posts List -->
                    <div class="space-y-10">
                        ${MOCK_POSTS.map(post => `
                            <article class="bg-white/80 backdrop-blur-md rounded-[2rem] overflow-hidden shadow-[0_15px_45px_rgba(0,0,0,0.06)] border border-white hover:shadow-[0_25px_60px_rgba(79,70,229,0.1)] transition-all duration-500">
                                <!-- Header Card -->
                                <div class="p-6 flex justify-between items-center">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 rounded-xl overflow-hidden ring-2 ring-slate-100 shadow-sm">
                                            <img src="${post.userAvatar}" alt="${post.userName}" class="w-full h-full object-cover" />
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-slate-900 text-sm">${post.userName}</h4>
                                            <p class="text-[10px] text-slate-400 font-bold tracking-wider">${post.timestamp}</p>
                                        </div>
                                    </div>
                                    <button class="w-8 h-8 flex items-center justify-center bg-slate-50 text-slate-400 rounded-full hover:bg-indigo-50 hover:text-indigo-600 transition-colors btn-animate">
                                        <span class="text-xs font-bold">‚ûî</span>
                                    </button>
                                </div>
                                
                                <!-- Content Body -->
                                <div class="px-6 pb-4">
                                    <p class="text-slate-600 text-sm leading-relaxed font-normal">${post.content}</p>
                                </div>

                                <!-- Image Section -->
                                ${post.image ? `
                                    <div class="mx-4 mb-4 rounded-2xl overflow-hidden border border-slate-50 relative group">
                                        <img src="${post.image}" alt="Service" class="w-full h-[300px] object-cover group-hover:scale-105 transition-transform duration-700" />
                                    </div>
                                ` : ''}

                                <!-- Actions Bar -->
                                <div class="px-6 py-4 bg-slate-50/50 flex items-center justify-between border-t border-slate-50">
                                    <div class="flex items-center gap-5">
                                        <button class="flex items-center gap-1.5 btn-animate group/btn">
                                            <span class="text-lg transition-transform group-hover/btn:scale-125">‚ù§Ô∏è</span>
                                            <span class="text-[11px] font-black text-slate-400">${post.likes}</span>
                                        </button>
                                        <button class="flex items-center gap-1.5 btn-animate group/btn">
                                            <span class="text-lg transition-transform group-hover/btn:scale-125">üí¨</span>
                                            <span class="text-[11px] font-black text-slate-400">${post.comments}</span>
                                        </button>
                                    </div>
                                    
                                    <button class="request-service-btn bg-slate-900 text-white px-4 py-2 rounded-lg font-bold text-[10px] uppercase tracking-wider btn-animate shadow-md">
                                        Solicitar
                                    </button>
                                </div>
                            </article>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderCategories() {
            return `
                <div class="space-y-10 pb-10">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${SERVICES.map(service => `
                            <div 
                                class="category-card bg-white/95 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-lg hover:shadow-indigo-200 transition-all group btn-animate cursor-pointer relative overflow-hidden flex flex-col min-h-[220px]"
                                data-category="${service.name}"
                            >
                                <div class="w-14 h-14 bg-indigo-50 rounded-2xl flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition-transform duration-500">
                                    ${service.icon}
                                </div>
                                <h3 class="text-lg font-bold text-slate-900 mb-2 leading-tight pr-4">${service.name}</h3>
                                <p class="text-slate-500 text-xs font-light leading-relaxed mb-8 line-clamp-2">
                                    ${service.desc}
                                </p>
                                
                                <div class="mt-auto flex items-center justify-between">
                                    <div class="flex items-center text-indigo-600 text-[9px] font-black uppercase tracking-widest transition-all">
                                        SOLICITAR AGORA ‚ûî
                                    </div>
                                </div>

                                <!-- Badge de Profissionais - Posi√ß√£o Fixa e Vis√≠vel -->
                                <div class="absolute top-4 right-4 bg-indigo-600 text-white px-2.5 py-1.5 rounded-xl text-[9px] font-black shadow-lg shadow-indigo-100 z-10 border border-white/20">
                                    ${service.prosCount} PROS
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="bg-slate-900 p-10 rounded-[2.5rem] text-center shadow-2xl">
                        <h4 class="text-xl font-bold text-white mb-2">Atendimento Concierge</h4>
                        <p class="text-slate-400 mb-6 font-light text-sm">Precisa de um plano personalizado ou m√∫ltiplos profissionais?</p>
                        <button id="custom-category" class="bg-white text-slate-900 px-8 py-3 rounded-2xl font-bold text-sm btn-animate">
                            Falar com Especialista
                        </button>
                    </div>
                </div>
            `;
        }

        function renderProfessionals() {
            const categories = [
                'Todos',
                'Lavandaria e engomagem',
                'Cozinheira de fam√≠lia',
                'Servi√ßo de Bab√°',
                'Cuidados com idosos',
                'Repara√ß√µes e manuten√ß√£o',
                'Tratamento de animais dom√©sticos',
                'Telecomunica√ß√µes',
                'Seguran√ßa Privada',
                'Servi√ßos de Sa√∫de',
                'Servi√ßos de Constru√ß√£o',
                'Educa√ß√£o e Forma√ß√£o',
                'Servi√ßos Digitais'
            ];

            const filter = state.selectedCategory || 'Todos';
            const filteredPros = filter === 'Todos' 
                ? MOCK_PROS 
                : MOCK_PROS.filter(pro => pro.category === filter);

            return `
                <div class="space-y-10 animate-in fade-in duration-700">
                    <div class="flex flex-col gap-6">
                        <div class="flex gap-2 overflow-x-auto pb-4 scrollbar-hide px-1">
                            ${categories.map(cat => `
                                <button
                                    data-filter="${cat}"
                                    class="filter-btn px-6 py-3 rounded-2xl whitespace-nowrap text-[11px] font-black uppercase tracking-wider transition-all tap-active ${filter === cat ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-100' : 'bg-white text-slate-400 border border-slate-100 hover:bg-slate-50'}"
                                >
                                    ${cat}
                                </button>
                            `).join('')}
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        ${filteredPros.length > 0 ? filteredPros.map(pro => `
                            <div class="bg-white rounded-[2.5rem] p-7 shadow-[0_15px_40px_rgba(0,0,0,0.04)] border border-white hover:border-indigo-100 transition-all duration-300 btn-animate group">
                                <div class="flex items-start justify-between mb-6">
                                    <div class="relative">
                                        <img src="${pro.avatar}" alt="${pro.name}" class="w-20 h-20 rounded-3xl object-cover ring-4 ring-slate-50 group-hover:ring-indigo-50 transition-all" />
                                        <div class="absolute -bottom-1 -right-1 bg-green-500 text-white w-6 h-6 flex items-center justify-center rounded-lg border-2 border-white">
                                            <span class="text-[10px]">‚úì</span>
                                        </div>
                                    </div>
                                    <div class="flex flex-col items-end gap-2">
                                        <div class="flex items-center gap-1 bg-amber-50 text-amber-700 px-3 py-1.5 rounded-xl text-xs font-black shadow-sm">
                                            <span class="text-amber-500">‚òÖ</span>
                                            ${pro.rating}
                                        </div>
                                        <div class="text-right">
                                            <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">A partir de</p>
                                            <p class="text-lg font-black text-indigo-600">Kz ${pro.hourlyRate}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="space-y-2 mb-6">
                                    <h3 class="text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors tracking-tight">${pro.name}</h3>
                                    <p class="text-indigo-600 font-bold text-xs uppercase tracking-wide">${pro.category}</p>
                                    <div class="flex items-center gap-1 text-slate-400 text-xs font-medium">
                                        <span>üìç</span>
                                        ${pro.location}
                                    </div>
                                </div>

                                <p class="text-slate-500 text-sm leading-relaxed mb-8 line-clamp-2 font-light italic">
                                    "${pro.bio}"
                                </p>

                                <div class="flex gap-3">
                                    <button class="flex-1 bg-slate-900 text-white py-3.5 rounded-2xl font-bold text-sm hover:bg-indigo-600 transition-all shadow-lg shadow-slate-200 btn-animate">
                                        Contratar
                                    </button>
                                    <button class="flex-1 bg-slate-50 text-slate-600 py-3.5 rounded-2xl font-bold text-sm hover:bg-slate-100 transition-all btn-animate">
                                        Portf√≥lio
                                    </button>
                                </div>
                            </div>
                        `).join('') : `
                            <div class="col-span-full py-20 text-center space-y-4">
                                <div class="text-4xl">üîé</div>
                                <h4 class="text-xl font-bold text-slate-900">Nenhum profissional nesta categoria</h4>
                                <p class="text-slate-400">Tente outra categoria ou solicite atendimento personalizado.</p>
                            </div>
                        `}
                    </div>
                </div>
            `;
        }

        function renderAccount() {
            return `
                <div class="max-w-2xl mx-auto space-y-8">
                    <div class="bg-white/80 backdrop-blur-md p-10 rounded-[3rem] border border-white shadow-2xl text-center space-y-6 relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-8 text-8xl opacity-[0.03] pointer-events-none">‚≠ê</div>
                        
                        <div class="relative inline-block">
                            <div class="w-32 h-32 rounded-[2.5rem] overflow-hidden mx-auto border-4 border-white shadow-2xl">
                                <img src="${state.user.avatar}" class="w-full h-full object-cover" alt="Avatar" />
                            </div>
                            <div class="absolute -bottom-2 -right-2 bg-indigo-600 text-white px-3 py-1 rounded-xl text-[10px] font-black shadow-lg">
                                PLATINUM
                            </div>
                        </div>

                        <div>
                            <h3 class="text-3xl font-black text-slate-900 tracking-tight">${state.user.name}</h3>
                            <p class="text-slate-400 font-bold uppercase text-[10px] tracking-widest">${state.user.location}</p>
                        </div>

                        <!-- Painel de Pontos -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-gradient-to-br from-amber-400 to-amber-600 p-8 rounded-[2rem] text-white shadow-xl shadow-amber-100 text-left relative overflow-hidden group">
                                <div class="relative z-10">
                                    <p class="text-[10px] font-black uppercase tracking-widest opacity-80 mb-1">Fidelidade Acumulada</p>
                                    <h4 class="text-5xl font-black mb-2 animate-pulse">${state.user.points}</h4>
                                    <p class="text-[11px] font-bold">Domestika Points</p>
                                </div>
                                <div class="absolute -bottom-4 -right-4 text-7xl opacity-20 transform group-hover:rotate-12 transition-transform">üèÜ</div>
                            </div>

                            <div class="bg-slate-900 p-8 rounded-[2rem] text-white text-left flex flex-col justify-between">
                                <div>
                                    <p class="text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1">Pr√≥xima Recompensa</p>
                                    <h4 class="text-lg font-bold">Voucher de Kz 5.000</h4>
                                    <div class="mt-4 h-2 bg-slate-800 rounded-full overflow-hidden">
                                        <div 
                                            class="h-full bg-indigo-500 rounded-full transition-all duration-1000" 
                                            style="width: ${Math.min(((state.user.points || 0) / 1000) * 100, 100)}%"
                                        ></div>
                                    </div>
                                    <p class="text-[9px] text-slate-500 mt-2 font-bold uppercase tracking-wider text-right">Faltam ${1000 - (state.user.points || 0)} pontos</p>
                                </div>
                            </div>
                        </div>

                        <!-- Se√ß√£o de Comprovativo -->
                        <div class="bg-slate-50 border border-slate-100 p-8 rounded-[2.5rem] space-y-4">
                            <div class="flex items-center justify-between">
                                <div class="text-left">
                                    <h5 class="font-bold text-slate-900">Validar Pagamento</h5>
                                    <p class="text-xs text-slate-500">Ganhe +150 pontos enviando seu comprovativo de servi√ßo conclu√≠do.</p>
                                </div>
                                <div class="text-2xl">üìë</div>
                            </div>

                            <div class="relative">
                                ${state.isUploadingReceipt ? `
                                    <div class="w-full bg-white border-2 border-dashed border-indigo-200 py-10 rounded-2xl flex flex-col items-center gap-3 animate-pulse">
                                        <div class="w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"></div>
                                        <p class="text-xs font-black text-indigo-600 uppercase tracking-widest">Validando Documento...</p>
                                    </div>
                                ` : `
                                    <button id="upload-receipt" class="w-full bg-white border border-slate-200 py-6 rounded-2xl font-bold text-sm text-slate-600 hover:border-indigo-500 hover:text-indigo-600 transition-all flex flex-col items-center gap-2 group btn-animate">
                                        <span class="text-2xl group-hover:scale-125 transition-transform">üì∏</span>
                                        <span>Enviar Foto do Comprovativo</span>
                                        <span class="text-[9px] uppercase tracking-wider opacity-50">Formatos: JPG, PNG, PDF</span>
                                    </button>
                                `}
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <button class="flex-1 bg-white text-slate-900 border border-slate-200 py-4 rounded-2xl font-bold text-sm btn-animate">
                                Hist√≥rico de Pontos
                            </button>
                            <button class="flex-1 bg-white text-slate-900 border border-slate-200 py-4 rounded-2xl font-bold text-sm btn-animate">
                                Configura√ß√µes
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderServiceForm() {
            if (state.serviceFormStep === 4) {
                const selectedPro = MOCK_PROS.find(p => p.id === state.serviceFormData.selectedProfessionalId);
                
                return `
                    <div class="max-w-xl mx-auto text-center space-y-8 py-12 animate-in fade-in zoom-in duration-500">
                        <div class="w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-4xl mx-auto shadow-lg ring-8 ring-green-50">
                            ‚úì
                        </div>
                        <div class="space-y-4">
                            <h2 class="text-3xl font-black text-slate-900 tracking-tight">Solicita√ß√£o Conclu√≠da!</h2>
                            <p class="text-slate-500 text-lg">
                                Sua solicita√ß√£o de <strong>${state.serviceFormData.category}</strong> foi enviada para <strong>${selectedPro?.name || 'rede geral'}</strong>.
                            </p>
                            <div class="bg-slate-50 p-6 rounded-3xl border border-slate-100 text-left max-w-sm mx-auto">
                                <p class="text-[10px] font-black uppercase text-slate-400 mb-2">Resumo da Contrata√ß√£o</p>
                                <div class="flex justify-between items-center font-bold text-slate-700 text-sm">
                                    <span>Profissional:</span>
                                    <span class="text-indigo-600">${selectedPro?.name || 'Rede Geral'}</span>
                                </div>
                                <div class="flex justify-between items-center font-bold text-slate-700 text-sm mt-1">
                                    <span>Valor:</span>
                                    <span>Kz ${selectedPro?.hourlyRate || 'N/A'}</span>
                                </div>
                                <div class="mt-2 pt-2 border-t border-slate-200">
                                    <p class="text-[10px] font-black uppercase text-slate-400 mb-1">Contato Enviado</p>
                                    <p class="text-xs font-bold text-slate-600">${state.serviceFormData.email}</p>
                                </div>
                            </div>
                        </div>
                        
                        <button id="back-to-home" class="bg-slate-900 text-white px-10 py-4 rounded-2xl font-bold shadow-xl hover:bg-indigo-600 transition-all btn-animate">
                            Voltar ao In√≠cio
                        </button>
                    </div>
                `;
            }

            const categories = [
                'Lavandaria e engomagem',
                'Cozinheira de fam√≠lia',
                'Servi√ßo de Bab√°',
                'Cuidados com idosos',
                'Repara√ß√µes e manuten√ß√£o',
                'Tratamento de animais dom√©sticos',
                'Telecomunica√ß√µes',
                'Seguran√ßa Privada',
                'Servi√ßos de Sa√∫de',
                'Servi√ßos de Constru√ß√£o',
                'Educa√ß√£o e Forma√ß√£o',
                'Servi√ßos Digitais'
            ];

            const filteredPros = MOCK_PROS.filter(pro => pro.category === state.serviceFormData.category);
            const selectedPro = MOCK_PROS.find(p => p.id === state.serviceFormData.selectedProfessionalId);

            return `
                <div class="max-w-2xl mx-auto bg-white/80 backdrop-blur-xl rounded-[2.5rem] border border-white shadow-2xl overflow-hidden transition-page">
                    <div class="bg-slate-900 p-8 text-white relative">
                        <button id="cancel-form" type="button" class="absolute top-8 right-8 text-slate-400 hover:text-white transition-colors">
                            ‚úï
                        </button>
                        <h3 class="text-2xl font-black tracking-tight mb-2">Novo Projeto</h3>
                        <p class="text-slate-400 text-sm">Passo ${state.serviceFormStep} de 3</p>
                        
                        <div class="mt-8 flex gap-2">
                            <div class="h-1.5 flex-1 rounded-full transition-all duration-500 ${state.serviceFormStep >= 1 ? 'bg-indigo-500' : 'bg-slate-700'}"></div>
                            <div class="h-1.5 flex-1 rounded-full transition-all duration-500 ${state.serviceFormStep >= 2 ? 'bg-indigo-500' : 'bg-slate-700'}"></div>
                            <div class="h-1.5 flex-1 rounded-full transition-all duration-500 ${state.serviceFormStep >= 3 ? 'bg-indigo-500' : 'bg-slate-700'}"></div>
                        </div>
                    </div>

                    <div class="p-8">
                        ${state.serviceFormStep === 1 ? `
                            <div class="space-y-6 animate-in slide-in-from-right-4 duration-500">
                                <div class="space-y-3">
                                    <label class="text-xs font-black uppercase tracking-widest text-slate-400">Tipo de Servi√ßo</label>
                                    <div class="max-h-64 overflow-y-auto pr-2 custom-scrollbar space-y-2">
                                        <div class="grid grid-cols-2 gap-3">
                                            ${categories.map(cat => `
                                                <button
                                                    type="button"
                                                    data-category="${cat}"
                                                    class="service-category-btn py-4 px-4 rounded-xl text-[11px] font-bold border leading-tight transition-all text-left flex items-center justify-between ${state.serviceFormData.category === cat ? 'bg-indigo-600 border-indigo-600 text-white shadow-lg scale-[1.02]' : 'bg-slate-50 border-slate-100 text-slate-600 hover:border-indigo-200 hover:bg-white'}"
                                                >
                                                    <span class="flex-1">${cat}</span>
                                                </button>
                                            `).join('')}
                                        </div>
                                    </div>
                                </div>

                                <div class="space-y-3">
                                    <label class="text-xs font-black uppercase tracking-widest text-slate-400">O que voc√™ precisa?</label>
                                    <textarea 
                                        id="service-description"
                                        placeholder="Descreva detalhes do que precisa..."
                                        class="w-full h-24 bg-slate-50 border border-slate-100 rounded-2xl p-4 text-sm text-black focus:ring-2 focus:ring-indigo-500 focus:outline-none transition-all resize-none"
                                    >${state.serviceFormData.description}</textarea>
                                </div>

                                <button 
                                    id="next-step-1"
                                    type="button"
                                    class="w-full bg-slate-900 text-white py-4 rounded-2xl font-bold shadow-xl hover:bg-indigo-600 disabled:opacity-50 transition-all btn-animate"
                                >
                                    Pr√≥ximo: Dados de Contato e Local ‚ûî
                                </button>
                            </div>
                        ` : ''}

                        ${state.serviceFormStep === 2 ? `
                            <div class="space-y-6 animate-in slide-in-from-right-4 duration-500">
                                <div class="space-y-3">
                                    <label class="text-xs font-black uppercase tracking-widest text-slate-400">Seu E-mail</label>
                                    <input 
                                        type="email"
                                        id="service-email"
                                        placeholder="exemplo@email.com"
                                        class="w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm text-black focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                        value="${state.serviceFormData.email}"
                                    />
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="space-y-3">
                                        <label class="text-xs font-black uppercase tracking-widest text-slate-400">Data Preferencial</label>
                                        <input 
                                            type="date"
                                            id="service-date"
                                            class="w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm text-black focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                            value="${state.serviceFormData.date}"
                                        />
                                    </div>
                                    <div class="space-y-3">
                                        <label class="text-xs font-black uppercase tracking-widest text-slate-400">Per√≠odo</label>
                                        <select 
                                            id="service-period"
                                            class="w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm text-black focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                        >
                                            <option value="Manh√£ (08h - 12h)" ${state.serviceFormData.period === 'Manh√£ (08h - 12h)' ? 'selected' : ''}>Manh√£ (08h - 12h)</option>
                                            <option value="Tarde (13h - 18h)" ${state.serviceFormData.period === 'Tarde (13h - 18h)' ? 'selected' : ''}>Tarde (13h - 18h)</option>
                                            <option value="Noite (19h - 22h)" ${state.serviceFormData.period === 'Noite (19h - 22h)' ? 'selected' : ''}>Noite (19h - 22h)</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="space-y-3">
                                    <label class="text-xs font-black uppercase tracking-widest text-slate-400">Endere√ßo do Local</label>
                                    <input 
                                        type="text"
                                        id="service-address"
                                        placeholder="Rua, N√∫mero, Cidade"
                                        class="w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm text-black focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                        value="${state.serviceFormData.address}"
                                    />
                                </div>

                                <div class="pt-4 flex gap-3">
                                    <button id="prev-step-2" class="flex-1 bg-slate-100 text-slate-600 py-4 rounded-2xl font-bold text-sm btn-animate">Voltar</button>
                                    <button 
                                        id="next-step-2"
                                        class="flex-[2] bg-slate-900 text-white py-4 rounded-2xl font-bold text-sm shadow-xl hover:bg-indigo-600 transition-all btn-animate"
                                    >
                                        Pr√≥ximo: Escolher Profissional ‚ûî
                                    </button>
                                </div>
                            </div>
                        ` : ''}

                        ${state.serviceFormStep === 3 ? `
                            <div class="space-y-6 animate-in slide-in-from-right-4 duration-500">
                                <div class="space-y-4">
                                    <label class="text-xs font-black uppercase tracking-widest text-slate-400">Escolha o Profissional Ideal</label>
                                    
                                    <div class="max-h-80 overflow-y-auto pr-2 custom-scrollbar space-y-3">
                                        ${filteredPros.length > 0 ? filteredPros.map(pro => `
                                            <button
                                                type="button"
                                                data-professional="${pro.id}"
                                                class="professional-select-btn w-full p-4 rounded-2xl border text-left transition-all flex items-center gap-4 ${state.serviceFormData.selectedProfessionalId === pro.id ? 'bg-indigo-50 border-indigo-600 shadow-md ring-1 ring-indigo-600' : 'bg-slate-50 border-slate-100 hover:border-indigo-200'}"
                                            >
                                                <img src="${pro.avatar}" class="w-12 h-12 rounded-xl object-cover" alt="" />
                                                <div class="flex-1">
                                                    <h4 class="font-bold text-slate-900 text-sm">${pro.name}</h4>
                                                    <p class="text-[10px] text-slate-500 font-medium">Kz ${pro.hourlyRate} / Hora</p>
                                                </div>
                                                <div class="w-5 h-5 rounded-full border-2 flex items-center justify-center ${state.serviceFormData.selectedProfessionalId === pro.id ? 'bg-indigo-600 border-indigo-600' : 'border-slate-300'}">
                                                    ${state.serviceFormData.selectedProfessionalId === pro.id ? '<div class="w-2 h-2 bg-white rounded-full"></div>' : ''}
                                                </div>
                                            </button>
                                        `).join('') : `
                                            <div class="bg-amber-50 p-6 rounded-2xl text-center border border-amber-100">
                                                <p class="text-amber-700 text-sm font-bold">Nenhum profissional espec√≠fico online.</p>
                                                <p class="text-amber-600 text-[11px] mt-1">Sua solicita√ß√£o ser√° enviada para nossa rede geral desta categoria.</p>
                                                <button 
                                                    type="button"
                                                    id="generic-professional"
                                                    class="mt-4 bg-amber-600 text-white px-4 py-2 rounded-lg text-[10px] font-black uppercase"
                                                >
                                                    Continuar com Rede Geral
                                                </button>
                                            </div>
                                        `}
                                    </div>
                                </div>

                                <div class="pt-4 flex gap-3">
                                    <button type="button" id="prev-step-3" class="flex-1 bg-slate-100 text-slate-600 py-4 rounded-2xl font-bold text-sm btn-animate">Voltar</button>
                                    <button 
                                        id="submit-service-form"
                                        class="flex-[2] bg-indigo-600 text-white py-4 rounded-2xl font-bold text-sm shadow-xl hover:bg-indigo-700 transition-all btn-animate flex items-center justify-center gap-2"
                                    >
                                        Finalizar Solicita√ß√£o
                                    </button>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function addEventListeners() {
            // Mobile menu toggle
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', () => {
                    state.isMobileMenuOpen = !state.isMobileMenuOpen;
                    render();
                });
            }

            // Mobile menu overlay
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
            if (mobileMenuOverlay) {
                mobileMenuOverlay.addEventListener('click', () => {
                    state.isMobileMenuOpen = false;
                    render();
                });
            }

            // Tab navigation
            document.querySelectorAll('[data-tab]').forEach(button => {
                button.addEventListener('click', () => {
                    const tab = button.getAttribute('data-tab');
                    state.activeTab = tab;
                    state.selectedCategory = undefined;
                    state.isMobileMenuOpen = false;
                    render();
                });
            });

            // Balance cart
            const balanceCart = document.getElementById('balance-cart');
            if (balanceCart) {
                balanceCart.addEventListener('click', () => {
                    state.activeTab = 'conta';
                    render();
                });
            }

            // Service buttons
            const mobileServiceBtn = document.getElementById('mobile-service-btn');
            if (mobileServiceBtn) {
                mobileServiceBtn.addEventListener('click', () => {
                    state.activeTab = 'solicitar';
                    state.selectedCategory = undefined;
                    render();
                });
            }

            const desktopServiceBtn = document.getElementById('desktop-service-btn');
            if (desktopServiceBtn) {
                desktopServiceBtn.addEventListener('click', () => {
                    state.activeTab = 'solicitar';
                    state.selectedCategory = undefined;
                    render();
                });
            }

            const desktopAccountBtn = document.getElementById('desktop-account-btn');
            if (desktopAccountBtn) {
                desktopAccountBtn.addEventListener('click', () => {
                    state.activeTab = 'conta';
                    render();
                });
            }

            // View categories button
            const viewCategoriesBtn = document.getElementById('view-categories');
            if (viewCategoriesBtn) {
                viewCategoriesBtn.addEventListener('click', () => {
                    state.activeTab = 'categorias';
                    render();
                });
            }

            // Request service buttons in feed
            document.querySelectorAll('.request-service-btn').forEach(button => {
                button.addEventListener('click', () => {
                    state.activeTab = 'solicitar';
                    state.selectedCategory = undefined;
                    render();
                });
            });

            // Category cards
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', () => {
                    const category = card.getAttribute('data-category');
                    state.selectedCategory = category;
                    state.activeTab = 'solicitar';
                    state.serviceFormData.category = category;
                    render();
                });
            });

            // Custom category button
            const customCategoryBtn = document.getElementById('custom-category');
            if (customCategoryBtn) {
                customCategoryBtn.addEventListener('click', () => {
                    state.selectedCategory = 'Personalizado';
                    state.activeTab = 'solicitar';
                    state.serviceFormData.category = 'Personalizado';
                    render();
                });
            }

            // Professional filter buttons
            document.querySelectorAll('.filter-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const filter = button.getAttribute('data-filter');
                    state.selectedCategory = filter === 'Todos' ? undefined : filter;
                    render();
                });
            });

            // Upload receipt
            const uploadReceiptBtn = document.getElementById('upload-receipt');
            if (uploadReceiptBtn) {
                uploadReceiptBtn.addEventListener('click', () => {
                    state.isUploadingReceipt = true;
                    render();
                    
                    setTimeout(() => {
                        state.isUploadingReceipt = false;
                        state.user.points = (state.user.points || 0) + 150;
                        state.showPointsToast = true;
                        render();
                        
                        setTimeout(() => {
                            state.showPointsToast = false;
                            render();
                        }, 3000);
                    }, 2000);
                });
            }

            // Logout button
            const logoutBtn = document.getElementById('logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    state.user = null;
                    state.activeTab = 'explorar';
                    state.selectedCategory = undefined;
                    render();
                });
            }

            // Service form event listeners
            setupServiceFormListeners();
        }

        function setupServiceFormListeners() {
            // Cancel form
            const cancelFormBtn = document.getElementById('cancel-form');
            if (cancelFormBtn) {
                cancelFormBtn.addEventListener('click', () => {
                    state.activeTab = 'explorar';
                    state.serviceFormStep = 1;
                    state.serviceFormData = {
                        category: '',
                        description: '',
                        date: '',
                        period: 'Manh√£ (08h - 12h)',
                        address: '',
                        email: '',
                        selectedProfessionalId: '',
                    };
                    render();
                });
            }

            // Service category buttons
            document.querySelectorAll('.service-category-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const category = button.getAttribute('data-category');
                    state.serviceFormData.category = category;
                    render();
                });
            });

            // Next step 1
            const nextStep1Btn = document.getElementById('next-step-1');
            if (nextStep1Btn) {
                nextStep1Btn.addEventListener('click', () => {
                    const description = document.getElementById('service-description');
                    if (description) {
                        state.serviceFormData.description = description.value;
                    }
                    
                    if (state.serviceFormData.category && state.serviceFormData.description) {
                        state.serviceFormStep = 2;
                        render();
                    }
                });
            }

            // Prev step 2
            const prevStep2Btn = document.getElementById('prev-step-2');
            if (prevStep2Btn) {
                prevStep2Btn.addEventListener('click', () => {
                    state.serviceFormStep = 1;
                    render();
                });
            }

            // Next step 2
            const nextStep2Btn = document.getElementById('next-step-2');
            if (nextStep2Btn) {
                nextStep2Btn.addEventListener('click', () => {
                    const email = document.getElementById('service-email');
                    const date = document.getElementById('service-date');
                    const period = document.getElementById('service-period');
                    const address = document.getElementById('service-address');
                    
                    if (email) state.serviceFormData.email = email.value;
                    if (date) state.serviceFormData.date = date.value;
                    if (period) state.serviceFormData.period = period.value;
                    if (address) state.serviceFormData.address = address.value;
                    
                    if (state.serviceFormData.date && state.serviceFormData.address && state.serviceFormData.email) {
                        state.serviceFormStep = 3;
                        render();
                    }
                });
            }

            // Prev step 3
            const prevStep3Btn = document.getElementById('prev-step-3');
            if (prevStep3Btn) {
                prevStep3Btn.addEventListener('click', () => {
                    state.serviceFormStep = 2;
                    render();
                });
            }

            // Professional select buttons
            document.querySelectorAll('.professional-select-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const professionalId = button.getAttribute('data-professional');
                    state.serviceFormData.selectedProfessionalId = professionalId;
                    render();
                });
            });

            // Generic professional button
            const genericProfessionalBtn = document.getElementById('generic-professional');
            if (genericProfessionalBtn) {
                genericProfessionalBtn.addEventListener('click', () => {
                    state.serviceFormData.selectedProfessionalId = 'generic';
                    render();
                });
            }

            // Submit service form
            const submitServiceFormBtn = document.getElementById('submit-service-form');
            if (submitServiceFormBtn) {
                submitServiceFormBtn.addEventListener('click', async () => {
                    // Simulate form submission
                    state.serviceFormStep = 4;
                    render();
                });
            }

            // Back to home from success page
            const backToHomeBtn = document.getElementById('back-to-home');
            if (backToHomeBtn) {
                backToHomeBtn.addEventListener('click', () => {
                    state.activeTab = 'explorar';
                    state.serviceFormStep = 1;
                    state.serviceFormData = {
                        category: '',
                        description: '',
                        date: '',
                        period: 'Manh√£ (08h - 12h)',
                        address: '',
                        email: '',
                        selectedProfessionalId: '',
                    };
                    render();
                });
            }
        }

        // Inicializar a aplica√ß√£o
        render();
    </script>
</body>
</html>